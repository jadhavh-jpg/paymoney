<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PayMoney Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:system-ui;background:#f1f5f9}
.card{max-width:420px;margin:20px auto;background:#fff;padding:20px;border-radius:18px}
input,textarea,select{width:100%;padding:12px;margin:8px 0;border-radius:10px;border:1px solid #ccc}
button{width:100%;padding:14px;border:none;border-radius:999px;font-weight:700;margin-top:10px}
.gen{background:#0f172a;color:#fff}
</style>
</head>

<body>
<div class="card">
<h2>Create Payment Page</h2>

<input type="file" id="img">
<input placeholder="Brand Name" id="brand">
<input placeholder="Title" id="title">
<textarea placeholder="Description" id="desc"></textarea>
<input type="datetime-local" id="datetime">
<select id="mode">
<option>Online</option>
<option>Offline</option>
</select>
<input placeholder="UPI ID" id="upi">
<input placeholder="Amount" id="amount">

<button class="gen" onclick="generate()">Generate Page</button>
</div>

<script>
async function generate(){
  const file=document.getElementById("img").files[0];
  if(!file)return alert("Image required");

  const fd=new FormData();
  fd.append("file",file);
  fd.append("upload_preset","paymoney_unsigned");

  const r=await fetch("https://api.cloudinary.com/v1_1/ddusj34vn/image/upload",{method:"POST",body:fd});
  const j=await r.json();

  const url=`https://paymoney24.in/landing.html
?brand=${encodeURIComponent(brand.value)}
&title=${encodeURIComponent(title.value)}
&desc=${encodeURIComponent(desc.value)}
&img=${encodeURIComponent(j.secure_url)}
&dt=${encodeURIComponent(datetime.value)}
&mode=${encodeURIComponent(mode.value)}
&upi=${encodeURIComponent(upi.value)}
&amt=${encodeURIComponent(amount.value)}`;

  navigator.clipboard.writeText(url);
  alert("Link copied!");
}
</script>
</body>
</html>
