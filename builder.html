<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Create Payment Page</title>

<style>
body{
  font-family: system-ui;
  background:#f3f4f6;
  margin:0;
  padding:20px;
}
.container{
  max-width:900px;
  margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
.card{
  background:#fff;
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
input,textarea{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #ddd;
  margin-bottom:12px;
}
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:999px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}
.btn-main{background:#111827;color:#fff}
.preview-card{
  text-align:center;
}
.preview-card img{
  width:100%;
  border-radius:16px;
}
.preview-title{
  font-size:22px;
  font-weight:800;
  margin-top:10px;
}
.preview-desc{opacity:.85}
@media(max-width:768px){
  .container{grid-template-columns:1fr}
}
</style>
</head>

<body>

<div class="container">

<!-- BUILDER -->
<div class="card">
  <h2>Create Payment Page</h2>

  <input type="file" id="poster" accept="image/*" />
  <input id="brand" placeholder="Brand Name" />
  <input id="title" placeholder="Title" />
  <textarea id="desc" placeholder="Description"></textarea>
  <input id="upi" placeholder="UPI ID" />
  <input id="amount" type="number" placeholder="Amount (â‚¹)" />

  <button class="btn-main" onclick="generate()">Generate Page</button>
</div>

<!-- LIVE PREVIEW -->
<div class="card preview-card">
  <img id="pimg" />
  <div class="preview-title" id="ptitle">Title</div>
  <div class="preview-desc" id="pdesc">Description</div>
</div>

</div>

<script>
let imageData="";

poster.onchange=e=>{
  const r=new FileReader();
  r.onload=()=>{imageData=r.result;pimg.src=imageData}
  r.readAsDataURL(e.target.files[0]);
}

title.oninput=()=>ptitle.innerText=title.value;
desc.oninput=()=>pdesc.innerText=desc.value;

function generate(){
  if(!imageData||!upi.value||!amount.value){
    alert("All fields required");
    return;
  }

  const id=Date.now();
  localStorage.setItem("pay_"+id,JSON.stringify({
    image:imageData,
    brand:brand.value,
    title:title.value,
    desc:desc.value,
    upi:upi.value,
    amount:amount.value
  }));

  location.href="landing.html?id="+id;
}
</script>

</body>
</html>
