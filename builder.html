<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PayMoney â€“ Payment Landing</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#f5f7fb}
.wrap{max-width:480px;margin:20px auto;padding:0 14px}
.box{background:#fff;border-radius:18px;padding:18px}

label{font-weight:600;margin-top:12px;display:block}
input,textarea{
  width:100%;padding:12px;border-radius:8px;
  border:1px solid #ccc;margin-top:6px
}
textarea{min-height:80px}

button{
  width:100%;padding:14px;border:none;border-radius:14px;
  font-size:16px;font-weight:600;cursor:pointer;margin-top:14px
}
.primary{background:#0D3B66;color:#fff}

.preview{text-align:center}
.logo{
  width:100px;height:100px;margin:0 auto 10px;
  border-radius:16px;background:#eee;
  display:flex;align-items:center;justify-content:center;
  overflow:hidden
}
.logo img{width:100%;height:100%;object-fit:contain}
.poster{
  aspect-ratio:2/3;background:#ddd;
  border-radius:14px;overflow:hidden
}
.poster img{width:100%;height:100%;object-fit:cover}
.brand{background:#0D3B66;color:#fff;padding:10px;border-radius:12px;margin-top:10px}
.date{font-size:14px;color:#555;margin-top:6px}
.desc{font-size:14px;color:#333;margin:10px 0}

.pay{
  display:block;
  padding:14px;
  background:#2FB344;
  color:#fff;
  border-radius:14px;
  font-size:16px;
  font-weight:600;
  text-decoration:none;
  text-align:center;
  margin-top:14px
}
.qrbtn{
  background:#1f3c88;color:#fff;
  padding:14px;border-radius:14px;
  font-weight:600;margin-top:12px;
  text-align:center;cursor:pointer
}
.note{font-size:13px;color:#666;margin-top:6px}

.qr{margin-top:14px;text-align:center;display:none}

.wa-note{font-size:13px;color:#444;margin-top:16px}
.wa-btn{
  display:inline-block;
  padding:12px 20px;
  background:#25D366;
  color:#fff;
  border-radius:30px;
  font-weight:600;
  text-decoration:none;
  margin-top:8px;
  animation:pulse 1.6s infinite
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(37,211,102,.6)}
  70%{box-shadow:0 0 0 14px rgba(37,211,102,0)}
  100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}
}
.footer{font-size:13px;color:#777;margin-top:18px;text-align:center}
</style>
</head>

<body>

<div class="wrap" id="builder">
  <div class="box">
    <h3>Create Payment Landing</h3>

    <label>Logo (optional)</label>
    <input type="file" accept="image/*" onchange="loadLogo(event)">

    <label>Poster Image</label>
    <input type="file" accept="image/*" onchange="loadPoster(event)">

    <label>Brand Name</label>
    <input id="brand">

    <label>Date & Time</label>
    <input type="datetime-local" id="dt">

    <label>UPI ID</label>
    <input id="upi" placeholder="example@upi">

    <label>Amount (INR)</label>
    <input id="amount" type="number">

    <label>Description</label>
    <textarea id="desc"></textarea>

    <label>WhatsApp Group Link</label>
    <input id="waGroup" placeholder="https://chat.whatsapp.com/...">

    <button class="primary" onclick="generate()">Generate Landing</button>
  </div>
</div>

<div class="wrap" id="landing" style="display:none"></div>

<script>
let logoURL="", posterURL="";

function loadLogo(e){
  logoURL=URL.createObjectURL(e.target.files[0]);
}
function loadPoster(e){
  posterURL=URL.createObjectURL(e.target.files[0]);
}

function generate(){
  if(!posterURL || !upi.value || !amount.value){
    alert("Poster, UPI & Amount required");
    return;
  }

  const upiIntent =
    "intent://pay?" +
    "pa=" + encodeURIComponent(upi.value) +
    "&pn=" + encodeURIComponent(brand.value||"PayMoney") +
    "&am=" + encodeURIComponent(amount.value) +
    "&cu=INR" +
    "#Intent;scheme=upi;end";

  document.getElementById("builder").style.display="none";
  const land=document.getElementById("landing");
  land.style.display="block";

  land.innerHTML=`
    <div class="box preview">
      ${logoURL?`<div class="logo"><img src="${logoURL}"></div>`:""}
      <div class="poster"><img src="${posterURL}"></div>
      <div class="brand">${brand.value||"PayMoney"}</div>
      <div class="date">${dt.value||""}</div>
      <div class="desc">${desc.value||""}</div>

      <a class="pay" href="${upiIntent}">
        ðŸ“± Open UPI App (Google Pay / PhonePe)
      </a>

      <div class="note">
        If asked, tap <b>Continue</b> to open your UPI app
      </div>

      <div class="qrbtn" onclick="showQR('${upiIntent}')">
        ðŸ’» Scan & Pay (QR Code)
      </div>

      <div class="qr" id="qr"></div>

      ${waGroup.value?`
        <div class="wa-note">
          To get group access, please send the payment screenshot
        </div>
        <a class="wa-btn" href="${waGroup.value}" target="_blank">
          ðŸ’¬ Access WhatsApp Group
        </a>
      `:""}

      <div class="footer">Â© 2026 PayMoney â€¢ India</div>
    </div>
  `;
}

function showQR(link){
  const box=document.getElementById("qr");
  box.style.display="block";
  box.innerHTML="";
  QRCode.toCanvas(document.createElement("canvas"),link,(e,c)=>{
    box.appendChild(c);
  });
}
</script>

</body>
</html>
