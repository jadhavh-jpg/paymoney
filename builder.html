<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PayMoney â€“ Payment Landing Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#f5f7fb}
.wrap{max-width:1200px;margin:20px auto;padding:0 14px}
.flex{display:flex;gap:20px}
@media(max-width:900px){.flex{flex-direction:column}}
.box{background:#fff;border-radius:18px;padding:20px;width:50%}
@media(max-width:900px){.box{width:100%}}

label{font-weight:600;margin-top:12px;display:block}
input,textarea{width:100%;padding:12px;border-radius:8px;border:1px solid #ccc;margin-top:6px}
textarea{min-height:90px}
button{width:100%;padding:14px;border:none;border-radius:14px;font-size:16px;font-weight:600;cursor:pointer;margin-top:14px}
.primary{background:#0D3B66;color:#fff}

/* PREVIEW */
.preview{text-align:center}
.logo{width:110px;height:110px;margin:0 auto 10px;border-radius:16px;background:#eee;display:flex;align-items:center;justify-content:center;overflow:hidden}
.logo img{width:100%;height:100%;object-fit:contain}
.poster{aspect-ratio:2/3;background:#ddd;border-radius:14px;overflow:hidden}
.poster img{width:100%;height:100%;object-fit:cover}
.brand{background:#0D3B66;color:#fff;padding:10px;border-radius:12px;margin-top:12px}
.date{margin-top:8px;font-size:14px;color:#555}
.desc{margin:12px 0;color:#333;font-size:14px}
.note{font-size:13px;color:#777;margin-top:10px}

/* LANDING */
.pay-mobile{display:block;background:#2FB344;color:#fff;padding:14px;border-radius:14px;font-size:16px;font-weight:600;margin-top:14px;text-decoration:none;text-align:center}
.pay-qr{background:#1f3c88;color:#fff;padding:14px;border-radius:14px;font-size:16px;font-weight:600;margin-top:12px;text-align:center;cursor:pointer}
.qr-box{margin-top:14px;display:none;text-align:center}

.wa-note{font-size:13px;color:#444;margin-top:16px}
.wa-btn{display:inline-block;padding:12px 20px;background:#25D366;color:#fff;border-radius:30px;font-weight:600;text-decoration:none;margin-top:8px;animation:pulse 1.6s infinite}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(37,211,102,.6)}
  70%{box-shadow:0 0 0 14px rgba(37,211,102,0)}
  100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}
}
.footer{margin-top:16px;font-size:13px;color:#777}
</style>
</head>

<body>

<div class="wrap" id="builder">
<div class="flex">

<!-- BUILDER -->
<div class="box">
<h2>Create Payment Landing</h2>

<label>Logo (optional)</label>
<input type="file" accept="image/*" id="logoInput">

<label>Poster Image</label>
<input type="file" accept="image/*" id="posterInput">

<label>Brand Name</label>
<input id="brand">

<label>Date & Time</label>
<input type="datetime-local" id="dt">

<label>UPI ID</label>
<input id="upi">

<label>Amount (INR)</label>
<input id="amount" type="number">

<label>Description</label>
<textarea id="desc"></textarea>

<label>WhatsApp Group Link</label>
<input id="waGroup" placeholder="https://chat.whatsapp.com/...">

<button class="primary" id="genBtn">Generate Landing Page</button>
</div>

<!-- LIVE PREVIEW -->
<div class="box preview">
  <div class="logo" id="pLogo">LOGO</div>
  <div class="poster" id="pPoster"></div>
  <div class="brand" id="pBrand">Brand Name</div>
  <div class="date" id="pDate">Date & Time</div>
  <div class="desc" id="pDesc">Description</div>
  <div class="note">Live preview (no payment buttons here)</div>
</div>

</div>
</div>

<div class="wrap" id="landing" style="display:none"></div>

<script>
/* ===== ELEMENTS ===== */
const brand=document.getElementById("brand");
const dt=document.getElementById("dt");
const desc=document.getElementById("desc");
const logoInput=document.getElementById("logoInput");
const posterInput=document.getElementById("posterInput");

const pBrand=document.getElementById("pBrand");
const pDate=document.getElementById("pDate");
const pDesc=document.getElementById("pDesc");
const pLogo=document.getElementById("pLogo");
const pPoster=document.getElementById("pPoster");

let logoURL="", posterURL="";

/* ===== LIVE PREVIEW ===== */
brand.oninput=()=>pBrand.innerText=brand.value||"Brand Name";
dt.oninput=()=>pDate.innerText=dt.value||"Date & Time";
desc.oninput=()=>pDesc.innerText=desc.value||"Description";

logoInput.onchange=e=>{
  logoURL=URL.createObjectURL(e.target.files[0]);
  pLogo.innerHTML=`<img src="${logoURL}">`;
};
posterInput.onchange=e=>{
  posterURL=URL.createObjectURL(e.target.files[0]);
  pPoster.innerHTML=`<img src="${posterURL}">`;
};

/* ===== GENERATE LANDING ===== */
document.getElementById("genBtn").onclick=()=>{
  if(!posterURL||!upi.value||!amount.value){
    alert("Poster, UPI & Amount required");
    return;
  }

  const upiIntent=
    "intent://pay?pa="+encodeURIComponent(upi.value)+
    "&pn="+encodeURIComponent(brand.value||"PayMoney")+
    "&am="+encodeURIComponent(amount.value)+
    "&cu=INR#Intent;scheme=upi;end";

  document.getElementById("builder").style.display="none";
  const land=document.getElementById("landing");
  land.style.display="block";

  land.innerHTML=`
    <div class="box preview">
      ${logoURL?`<div class="logo"><img src="${logoURL}"></div>`:""}
      <div class="poster"><img src="${posterURL}"></div>
      <div class="brand">${brand.value||"PayMoney"}</div>
      <div class="date">${dt.value||""}</div>
      <div class="desc">${desc.value||""}</div>

      <a class="pay-mobile" href="${upiIntent}">
        ðŸ“± Open UPI App (Google Pay / PhonePe)
      </a>

      <div class="pay-qr" onclick="showQR('${upiIntent}')">
        ðŸ’» Scan & Pay (QR Code)
      </div>

      <div class="qr-box" id="qrBox"></div>

      ${waGroup.value?`
        <div class="wa-note">
          To get group access, please send the payment screenshot
        </div>
        <a class="wa-btn" href="${waGroup.value}" target="_blank">
          ðŸ’¬ Access WhatsApp Group
        </a>
      `:""}

      <div class="footer">Â© 2026 PayMoney â€¢ India</div>
    </div>
  `;
};

function showQR(link){
  const box=document.getElementById("qrBox");
  box.style.display="block";
  box.innerHTML="";
  QRCode.toCanvas(document.createElement("canvas"),link,(e,c)=>box.appendChild(c));
}
</script>

</body>
</html>
