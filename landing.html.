<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment</title>

<style>
body{
  background:#f3f4f6;
  font-family:system-ui;
  margin:0;
  padding:20px;
}
.card{
  max-width:420px;
  margin:auto;
  background:#fff;
  border-radius:20px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.12);
  text-align:center;
}
img{width:100%;border-radius:16px}
.brand{font-size:24px;font-weight:900;margin-top:10px}
.title{font-size:20px;font-weight:800}
.desc{opacity:.85;margin-bottom:14px}
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:999px;
  font-size:16px;
  font-weight:700;
  margin-top:10px;
}
.green{background:#22c55e;color:#fff}
.dark{background:#111827;color:#fff}
.share-box{
  margin-top:20px;
}
</style>
</head>

<body>

<div class="card">
  <img id="img">
  <div class="brand" id="brand"></div>
  <div class="title" id="title"></div>
  <div class="desc" id="desc"></div>

  <button class="btn green" onclick="openUPI()">ðŸ“± Open UPI App</button>
  <button class="btn dark" onclick="showQR()">ðŸ’» Scan QR</button>

  <div class="share-box">
    <button class="btn dark" onclick="copyLink()">ðŸ“‹ Copy Link</button>
    <button class="btn green" onclick="shareWA()">ðŸŸ¢ Share on WhatsApp</button>
  </div>
</div>

<script>
const id=new URLSearchParams(location.search).get("id");
const data=JSON.parse(localStorage.getItem("pay_"+id));

img.src=data.image;
brand.innerText=data.brand;
title.innerText=data.title;
desc.innerText=data.desc;

const upiLink=`upi://pay?pa=${data.upi}&am=${data.amount}&cu=INR&tn=${encodeURIComponent(data.title)}`;

function openUPI(){
  location.href=upiLink;
}

function showQR(){
  const qr=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(upiLink)}`;
  window.open(qr,"_blank");
}

function copyLink(){
  navigator.clipboard.writeText(location.href);
  alert("Link copied");
}

function shareWA(){
  window.open(
    "https://wa.me/?text="+encodeURIComponent(
      "Pay securely using this link ðŸ‘‡\n"+location.href
    ),
    "_blank"
  );
}
</script>

</body>
</html>
