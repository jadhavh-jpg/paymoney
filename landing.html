<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pay Now</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta property="og:title" content="Payment Request">
<meta property="og:description" content="Pay securely using UPI">
<meta property="og:type" content="website">

<style>
body{margin:0;background:#f1f5f9;font-family:system-ui}
.card{
  max-width:420px;margin:24px auto;background:#fff;padding:20px;
  border-radius:22px;box-shadow:0 20px 40px rgba(0,0,0,.15)
}
img{width:100%;border-radius:16px;margin-bottom:10px}
.badge{
  display:inline-block;padding:4px 10px;border-radius:999px;
  background:#dcfce7;color:#166534;font-weight:700;font-size:12px
}
.amount{font-size:24px;font-weight:900;margin:12px 0}
.btn{
  width:100%;padding:14px;margin-top:10px;border:none;
  border-radius:999px;font-weight:800;cursor:pointer
}
.pay{background:#22c55e;color:#fff}
.wa{background:#25D366;color:#fff}
.copy{background:#0ea5e9;color:#fff}
.qr{text-align:center;margin-top:14px}
.qr img{width:180px}
.error{text-align:center;padding:40px;font-size:18px}
</style>
</head>

<body>

<div id="app"></div>

<script>
const p = new URLSearchParams(location.search);

const title=p.get("title"),
      amount=p.get("amount"),
      upi=p.get("upi");

if(!title || !amount || !upi){
  app.innerHTML="<div class='error'>‚ùå Invalid or expired payment link</div>";
  throw "";
}

const desc=p.get("desc")||"",
      img=p.get("img"),
      mode=p.get("mode")||"",
      date=p.get("date")||"",
      time=p.get("time")||"";

const upiLink =
`upi://pay?pa=${upi}&am=${amount}&cu=INR&pn=${encodeURIComponent(title)}`;

app.innerHTML=`
<div class="card">
  <img src="${img}">
  <span class="badge">${mode}</span>
  <h2>${title}</h2>
  <p>${desc}</p>
  <p>${date} ${time}</p>
  <div class="amount">‚Çπ ${amount}</div>

  <button class="btn pay" onclick="location.href='${upiLink}'">Open UPI App</button>
  <button class="btn wa" onclick="share()">Share on WhatsApp</button>
  <button class="btn copy" onclick="copy()">Copy Link</button>

  <div class="qr">
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(upiLink)}">
    <div>Scan if app doesn‚Äôt open</div>
  </div>
</div>`;

function share(){
  const msg = `${title}\nAmount: ‚Çπ${amount}\n\nPay here:\n${location.href}`;
  window.open("https://wa.me/?text="+encodeURIComponent(msg));
}
function copy(){
  navigator.clipboard.writeText(location.href);
  alert("Link copied");
}
  <script>
const p = new URLSearchParams(location.search);

// 1Ô∏è‚É£ params read
const title = p.get("title");
const amount = p.get("amount");
const upi = p.get("upi");

// (validation code yahin hota hai)

// 2Ô∏è‚É£ HTML render
document.getElementById("app").innerHTML = `
  <div class="card">
    ...
    <button id="groupBtn"
      class="btn wa"
      style="display:none">
      Access WhatsApp Group
    </button>
    ...
  </div>
`;

// 3Ô∏è‚É£ üëá YAHI PASTE KARNA HAI
const group = p.get("group");

if(group){
  const gBtn = document.getElementById("groupBtn");
  gBtn.style.display = "block";
  gBtn.onclick = () => {
    window.open(group, "_blank");
  };
}
</script>

</script>

</body>
</html>
